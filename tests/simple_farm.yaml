type: draft/example of floating array ontology under construction
name: 
comments: 
# Site condition information
site:
    general:
        water_depth : 600        # [m]      uniform water depth
        rho_water   : 1025.0     # [kg/m^3] water density
        rho_air     : 1.225      # [kg/m^3] air density
        mu_air      : 1.81e-05   #          air dynamic viscosity
        #...
        
    boundaries:  # project or lease area boundary, via file or vertex list
        file:   # filename of x-y vertex coordinates [m]
        x_y:    # list of polygon vertices in order [m]
            # -[x1, y1]
            # -[x2, y2]
            # -[x3, y3]
            # -[x4, y4]
    
    exclusions:
      - name: round example
        x_y_r:
          - [x1, y1, r1] 
      
      - name: polygon example with sharp corners (radius ommitted)
        x_y_r:
            -[x1, y1]
            -[x2, y2]
    
    bathymetry:
        file:   #'../bathymetry200m_sample.txt'
    
    seabed:
        keys: [x,  y, depth,  soil_type]
        data:
          - [ x1, y1, z1, "soft clay"]
          - [ x2, y2, z1, "medium clay"]    
          
        file: 'seabed_grid.csv'  # gridded data of seabed depth and soil classification   
    
    metocean:
        extremes:  # extreme values for specified return periods (in years)
            keys :   [ Hs  , Tp  , WindSpeed, TI, Shear, Gamma, CurrentSpeed ]
            data :
                1:   [   1  ,2     ,3     ]
                10:  [ 1    ,  2   , 3    ]
                50:  [  1   ,  2   ,  3   ]
                500: [  1   ,  2   ,   3  ]
                
        probabalistic_bins:
            keys : [ prob , Hs  , Tp, WindSpeed, TI, Shear, Gamma, CurrentSpeed, WindDir, WaveDir, CurrentDir  ]
            data :
                -  [ 0.010  ,  1 ,  1 ]
                -  [ 0.006  , 1  ,  1 ]
                -  [ 0.005  , 1  ,  1 ]
                
        time_series :
            file: 'metocean_timeseries.csv'
            
    resource :
        file: 'windresource'

    marine_growth:
        keys: [thickness, lowerRange, upperRange, density]
        data:   #  (m)       (m)          (m)     (kg/m^3)
        - [0.00,-200,-100, 1325]
        - [0.05,-100,-80, 1325]
        - [0.10,-80,-40, 1325]
        - [0.20,-40,0, 1325]
# ----- Array-level inputs -----

# Wind turbine array layout
array:
    keys : [ID, turbineID, platformID, mooringID,   x_location,  y_location,  heading_adjust]
    data : # name     ID#       ID#        ID#          [m]         [m]          [deg]
        -  [fowt1,     1,         1,       ms1,           0,          0,          180   ]    
        -  [fowt2,     1,         1,       ms2,        1600,          0,            0   ] 


# Array cables (compact table format, without routing info)
array_cables:   
    keys:  [ CableID, AttachA,  AttachB,  headingA, headingB, lengthAdjust]
    data:
      - [ array_cable1, fowt1, fowt2,  180,       180, 0] 
      - [ suspended_cable1, fowt2, substation1,  0,       180, 0] 


# ----- turbines and platforms -----

turbine:
    
    hHub          :        150.0      #  [m]        hub height above water line [m]
    Fthrust       :       1500.0E3    #  [N]        temporary thrust force to use

platform:

    potModMaster :   1      # [int] master switch for potMod variables; 0=keeps all member potMod vars the same, 1=turns all potMod vars to False (no HAMS), 2=turns all potMod vars to True (no strip)
    dlsMax       :  5.0     # maximum node splitting section amount for platform members; can't be 0
    rFair        :  40.5    # platform fairlead radius
    zFair        :  -20     # platform fairlead z-location
    
    members:   # list all members here
        
      - name      :  center_column             # [-]    an identifier (no longer has to be number)       
        type      :  2                         # [-]    
        rA        :  [ 0, 0, -20]              # [m]    end A coordinates
        rB        :  [ 0, 0,  15]              # [m]    and B coordinates
        shape     :  circ                      # [-]    circular or rectangular
        gamma     :  0.0                       # [deg]  twist angle about the member's z-axis
        potMod    :  True                      # [bool] Whether to model the member with potential flow (BEM model) plus viscous drag or purely strip theory
        # --- outer shell including hydro---
        stations  :  [0, 1]                    # [-]    location of stations along axis. Will be normalized such that start value maps to rA and end value to rB
        d         :  10.0                      # [m]    diameters if circular or side lengths if rectangular (can be pairs)
        t         :  0.05                      # [m]    wall thicknesses (scalar or list of same length as stations)
        Cd        :  0.6                       # [-]    transverse drag coefficient       (optional, scalar or list of same length as stations)
        Ca        :  0.93                      # [-]    transverse added mass coefficient (optional, scalar or list of same length as stations)
        CdEnd     :  0.6                       # [-]    end axial drag coefficient        (optional, scalar or list of same length as stations)
        CaEnd     :  1.0                       # [-]    end axial added mass coefficient  (optional, scalar or list of same length as stations)
        rho_shell :  7850                      # [kg/m3] 
        # --- handling of end caps or any internal structures if we need them ---
        cap_stations :  [ 0    ]               # [m]  location along member of any inner structures (in same scaling as set by 'stations')
        cap_t        :  [ 0.001  ]             # [m]  thickness of any internal structures
        cap_d_in     :  [ 0    ]               # [m]  inner diameter of internal structures (0 for full cap/bulkhead, >0 for a ring shape)

        
      - name      :  outer_column              # [-]    an identifier (no longer has to be number)       
        type      :  2                         # [-]    
        rA        :  [51.75, 0, -20]           # [m]    end A coordinates
        rB        :  [51.75, 0,  15]           # [m]    and B coordinates
        heading   :  [ 60, 180, 300]           # [deg]  heading rotation of column about z axis (for repeated members)
        shape     :  circ                      # [-]    circular or rectangular
        gamma     :  0.0                       # [deg]  twist angle about the member's z-axis
        potMod    :  True                      # [bool] Whether to model the member with potential flow (BEM model) plus viscous drag or purely strip theory
        # --- outer shell including hydro---
        stations  :  [0, 35]                   # [-]    location of stations along axis. Will be normalized such that start value maps to rA and end value to rB
        d         :  12.5                      # [m]    diameters if circular or side lengths if rectangular (can be pairs)
        t         :  0.05                      # [m]    wall thicknesses (scalar or list of same length as stations)
        Cd        :  0.6                       # [-]    transverse drag coefficient       (optional, scalar or list of same length as stations)
        Ca        :  0.93                      # [-]    transverse added mass coefficient (optional, scalar or list of same length as stations)
        CdEnd     :  1.0                       # [-]    end axial drag coefficient        (optional, scalar or list of same length as stations)
        CaEnd     :  0.7 # value of 3.0 gives more heave response        # [-]    end axial added mass coefficient  (optional, scalar or list of same length as stations)
        rho_shell :  7850                      # [kg/m3] 
        # --- ballast ---
        l_fill    :  1.4                       # [m]
        rho_fill  :  5000                      # [kg/m3]
        # --- handling of end caps or any internal structures if we need them ---
        cap_stations :  [ 0    ]               # [m]  location along member of any inner structures (in same scaling as set by 'stations')
        cap_t        :  [ 0.001  ]             # [m]  thickness of any internal structures
        cap_d_in     :  [ 0    ]               # [m]  inner diameter of internal structures (0 for full cap/bulkhead, >0 for a ring shape)

        
      - name      :  pontoon                   # [-]    an identifier (no longer has to be number)       
        type      :  2                         # [-]    
        rA        :  [  5  , 0, -16.5]         # [m]    end A coordinates
        rB        :  [ 45.5, 0, -16.5]         # [m]    and B coordinates
        heading   :  [ 60, 180, 300]           # [deg]  heading rotation of column about z axis (for repeated members)
        shape     :  rect                      # [-]    circular or rectangular
        gamma     :  0.0                       # [deg]  twist angle about the member's z-axis
        potMod    :  False                     # [bool] Whether to model the member with potential flow (BEM model) plus viscous drag or purely strip theory
        # --- outer shell including hydro---
        stations  :  [0, 40.5]                 # [-]    location of stations along axis. Will be normalized such that start value maps to rA and end value to rB
        d         :  [12.4, 7.0]               # [m]    diameters if circular or side lengths if rectangular (can be pairs)
        t         :  0.05                      # [m]    wall thicknesses (scalar or list of same length as stations)
        Cd        :  [1.5, 2.2 ]               # [-]    transverse drag coefficient       (optional, scalar or list of same length as stations)
        Ca        :  [2.2, 0.2 ]               # [-]    transverse added mass coefficient (optional, scalar or list of same length as stations)
        CdEnd     :  0.0                       # [-]    end axial drag coefficient        (optional, scalar or list of same length as stations)
        CaEnd     :  0.0                       # [-]    end axial added mass coefficient  (optional, scalar or list of same length as stations)
        rho_shell :  7850                      # [kg/m3]
        l_fill    :  40.5                      # [m]
        rho_fill  :  1025.0                    # [kg/m3]
        
        
      - name      :  upper_support             # [-]    an identifier (no longer has to be number)       
        type      :  2                         # [-]    
        rA        :  [  5  , 0, 14.545]        # [m]    end A coordinates
        rB        :  [ 45.5, 0, 14.545]        # [m]    and B coordinates
        heading   :  [ 60, 180, 300]           # [deg]  heading rotation of column about z axis (for repeated members)
        shape     :  circ                      # [-]    circular or rectangular
        gamma     :  0.0                       # [deg]  twist angle about the member's z-axis
        potMod    :  False                     # [bool] Whether to model the member with potential flow (BEM model) plus viscous drag or purely strip theory
        # --- outer shell including hydro---
        stations  :  [0, 1]                    # [-]    location of stations along axis. Will be normalized such that start value maps to rA and end value to rB
        d         :  0.91                      # [m]    diameters if circular or side lengths if rectangular (can be pairs)
        t         :  0.01                      # [m]    wall thicknesses (scalar or list of same length as stations)
        Cd        :  0.0                       # [-]    transverse drag coefficient       (optional, scalar or list of same length as stations)
        Ca        :  0.0                       # [-]    transverse added mass coefficient (optional, scalar or list of same length as stations)
        CdEnd     :  0.0                       # [-]    end axial drag coefficient        (optional, scalar or list of same length as stations)
        CaEnd     :  0.0                       # [-]    end axial added mass coefficient  (optional, scalar or list of same length as stations)
        rho_shell :  7850                      # [kg/m3] 


# ----- Mooring system -----

# Mooring system descriptions (each for an individual FOWT with no sharing)
mooring_systems:
 
    ms1:
        name: 3-line semi-taut polyester mooring system with one line shared anchor
        
        keys: [MooringConfigID,  heading, anchorType, lengthAdjust] 
        data:
          - [  rope_1,  45 ,    suction1,   0 ]
          - [  rope_1,  135 ,    suction1,   0 ]
          #- [  semitaut-poly_1,  300 ,    suction1,   0 ]
    ms2:
        name: 2-line semitaut with a third shared line
        
        keys: [MooringConfigID,  heading, anchorType, lengthAdjust] 
        data:
          - [  rope_1,  45 ,    suction1,   0 ]
          - [  rope_1,  135 ,    suction1,   0 ]
          #- [  semitaut-poly_1,  0 ,    suction1,   0 ]
    
# Mooring line configurations
mooring_line_configs:
    
    catenary1:  # mooring line configuration identifier
    
        name: basic catenary chain mooring configuration  # descriptive name
        
        span: 800  # [m]  distance to anchor

        sections:                #in order from anchor to fairlead
          - type: chain_155mm    # ID of a mooring line section type
            length: 900          # [m] usntretched length of line section
    
    
# Mooring line cross-sectional properties
mooring_line_types:

    polyester_182mm:
        d_nom:    0.182      # [m] nominal diameter
        d_vol:    0.1438     # [m] volume-equivalent diameter
        m:        22.42       # [kg/m] mass per unit length (linear density)
        EA:       142.4e6      # [N] quasi-static stiffness
        MBL:    11.75e6      # [N] minimum breaking load
        EAd:    164.6e6      # [N] dynamic stiffness
        EAd_Lm:    0.34      # [-] dynamic stiffness mean-load multiplier
        cost:      194       # [$/m] cost per unit length
        material: polyester  # [-] material composition descriptor
        
    chain_155mm:
        d_nom:    0.155      # [m] nominal diameter
        d_vol:    0.279      # [m] volume-equivalent diameter
        m:        480.9      # [kg/m] mass per unit length (linear density)
        EA:      2058e6      # [N] quasi-static stiffness
        MBL:     25.2e6      # [N] minimum breaking load
        cost:      1486      # [$/m] cost per unit length
        material:  chain  # [-] material composition descriptor
        material details: R3 studless


# Anchor type properties
anchor_types:

    suction1:
        d      :  5  # [m] Diameter (optional)
        L      :  10 # [m] Length (optional)
        m      :  10000 # [kg] Mass (optional)
        A      :     # [m^2] Area (optional)
        t      :     # [mm] Thickness (optional)
        h      :     # [m] Embedment depth (optional)
    drag-embedment1:
        d      :  7 
        L      :  8 
        m      :  8242

# ----- Cables -----

# Definition of all cables going between turbines (and substation) in an array
# keys in the cables section correspond to those in the array_cables table o this section provides
#  details on these cables - what major sections make them up - in FAModel, array_cable1 will be a subseaCable object,
#  while  dynamic_lazy_wave1 will be a dynamic cable object inside the array_cable1 object.

cables:

    array_cable_basic: 
        name: basic array cable to be used in conjunction with Michaels cable layout optimization
    
        sections:
          - type: basic1

    array_cable1:      
        name: array cable with lazy wave - static - lazy wave sections # descriptive cable name
        # type : static_cable_80   # cable section type ID
   
        sections: # refers to a configuration in cable_configs
        # first entry is at end A, last entry is at end B
          - type: dynamic_lazy_wave1
          - connectorType: joint_1
          - type: static_1
          - connectorType: joint_1
          - type: dynamic_lazy_wave1
   

      
    suspended_cable1:
        sections: 
          - type: dynamic_suspended_1
         
    rope_shared:
        sections: 
          - type: rope_shared


# Dynamic and static cable configurations
cable_configs:
# contains the subsections that make up each section of the subsea cable (i.e., what sections make up the lazywave cable in array_cable_1)
    basic1:
        name: basic cable configuration, essentially a straight line between platforms
        span: 1600
        conductorSize: 70
        PowerRating: 100
        type: dynamic
        zJTube: -30 # depth out of J-tube that cable starts
  
        cableFamily: dynamic_cable_33
        length: 1700
        A: 100 # cable conductor cross-sectional area [mm^2] (Required for types listed in cable props yaml)
          
          
          
        
    dynamic_lazy_wave1:
        name: Lazy wave configuration 1 (simpler approach)
        voltage: 66 # [kV]
        span : 600    # [m] horizontal distance to end of dynamic cable
        zJTube: -20 # depth the cable comes out of the j-tube
        type: dynamic # dynamic or static
        A: 300
        

        cableFamily: dynamic_cable_33        # ID of a cable section type1
        length: 900                   # [m] length (unstretched) 
       
        sections: 
          - type: Buoyancy_750m #_w_buoy # (section properties including averaged effect of buoyancy modules)
            L_mid: 450 # [m] from end A
            N_modules: 5
            spacing: 21 # [m]
            V: 2
        # sections: # buoyancy sections                          
        #   - type: buoyancy_module_1
        #     L_mid: 350 # [m] from end A
        #     N_modules: 2
        #     spacing: 20 # [m]           
       
    
    static_1:
        name: Static cable configuration 1 
        voltage: 66 # [kV]
        span: 350
        type: static
        
        typeID: static_cable_36
        length: 2200
            
        # unsure how the vertex points work (was already here), but I suspect this would be where Michael's routing info fits in  
        routing_x_y_r:  # optional vertex points along the cable route. Nonzero radius wraps around a point at that radius.
          - [1000, 1200, 20] 
          - [2000, 1500, 20] 
        
        burial:  # optional definition of cable burial depth over its length
            station: [0, 1]                # length along cable, normalized by first and last value
            depth  : [0.1, 0.2]            # [m] burial depth
    
# Cable cross-sectional properties
cable_types:
# similar to cable properties yaml... thinking we can have cable types listed here if wanted but if 
# a cable type in cable_configs is not listed here then project.loadDesig() will automatically look in 
# the cable props yaml for the cable properties (must have same name though)

    cable1: # random values of basic properties (these will be overwritten by cable layout optimization)
        dynamic: True
        kV   :        66   # [kV] voltage rating
        A    :       300   # [mm^2] cross-sectional area of each conductor (3 conductors)
        d    :      0.20   # [m] outer diameter
        m    :     30.59   # [kg/m] mass per unit length
        EA   :    700000   # [kN] axial stiffness 
        EI   :      10.0   # [kN.m^2] bending stiffness
        MBL  :       100   # [kN] minimum breaking load
        MBR  :       2.0   # [m] minimum bending radius
    
    dynamic_cable_66 :     # cable type identifier
        
        dynamic :   True   # Flag for dynamic cable (default static)
        kV   :        66   # [kV] voltage rating
        A    :       300   # [mm^2] cross-sectional area of each conductor (3 conductors)
        d    :      0.20   # [m] outer diameter
        m    :     30.59   # [kg/m] mass per unit length
        EA   :    700000   # [kN] axial stiffness 
        EI   :      10.0   # [kN.m^2] bending stiffness
        MBL  :       100   # [kN] minimum breaking load
        MBR  :       2.0   # [m] minimum bending radius

    static_cable_36:
  
        dynamic :  False   # Flag for dynamic cable (default static)
        DC   :     False   # Flag for DC (default AC)
        kV   :        36   # [kV] voltage rating
        A    :       300   # [mm^2] cross-sectional area of each conductor (3 conductors)
        d    :    0.1248   # [m] outer diameter
        m    :     12.90   # [kg/m] mass per unit length
        EA   :    245000   # [kN] axial stiffness 
        EI   :      5.10   # [kN.m^2] bending stiffness
        MBL  :      54.0   # [kN] minimum breaking load
        MBR  :     1.875   # [m] minimum bending radius
        
    rope:
        d:    0.1797
        m:        34.85
        EA:       47610000
        material: rope 
        
    # # alternative table-based format
    
    # keys :   name,   EA ,  MBL ...]
    # data :
    #     -    static_80 , 3232, 23
    #     -    dynamic_80, 3232, 23

# Cable appendages
cable_appendages:

    buoyancy_module_1:
        mass:    2700   # [kg]  mass
        volume: 8.615   # [m^3] volumetric displacement 
        CdA:     3.8    # [m^2] product of cross-sectional area and drag coefficient
        length:  2.2    # [m]   length taked up along cable
        density: 313.41
        
    buoyancy_module_bead:
        mass:    730    # [kg]
        volume:  1.16   # [m^3]
        density: 629    # [kg/m^3]


cable_joints:
    joint_1:
        mass: 100000 # TBD